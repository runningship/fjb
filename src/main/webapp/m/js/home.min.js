var img_swipe;
var filter_type;
var imgs;
$(function() {
	imgs = $('.swipe_pic');
    setTimeout(function() {
        b("imgSwipe");
    },1);
  
});

function b(s) {
    var r = $("#" + s);
    var n = r.children().eq(0).find("img"),
    q = r.children().eq(1).find("li"),
    l = n.length,
    o = l - 2,
    m = 1;
    img_swipe = new Swipe(document.getElementById(s), {
        startSlide: 0,
        auto: 1000,
        speed: 300,
        callback: function(t, u) {
            q.removeClass("active").eq(t).addClass("active");
            if (m <= o) {
                if (t >= 1 && t <= o) {
                    var v = n.eq(t + 1);
                    if (v.length > 0) {
                        src = v.attr("data-src");
                        v.attr("src", src)
                    }
                }
                m++
            }
        }
    });
    console.log(img_swipe);
}

function reSlide(){
	if(img_swipe){
		img_swipe.kill();
	}
	$('.swipe-wrap').css('width','auto').empty();
	var xx = imgs.filter('[type='+filter_type+']').clone();
	$('.swipe-wrap').append(xx);
	b("imgSwipe");
}